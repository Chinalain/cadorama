import{j as e,L as p}from"./index-ByxEemcU.js";import{r}from"./vendor-CIP6LD3P.js";const b=({onShowLogin:i,onLinkSent:d})=>{const[s,c]=r.useState(""),[n,a]=r.useState(!1),[o,m]=r.useState(null),[x,l]=r.useState(!1),u=async t=>{t.preventDefault(),m(null),a(!0);try{await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),l(!0)}catch(h){console.error(h),l(!0)}finally{a(!1)}};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4",children:e.jsxs("div",{className:"w-full max-w-md text-center",children:[e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Vérifiez vos e-mails"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Si un compte existe pour ",e.jsx("strong",{children:s}),", vous recevrez un e-mail avec des instructions pour réinitialiser votre mot de passe."]}),e.jsx("button",{onClick:()=>d(s),className:"font-medium text-teal-600 hover:text-teal-500 hover:underline",children:"Cliquez ici pour simuler la réception de l'e-mail et continuer"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:e.jsx("button",{onClick:i,className:"font-medium text-teal-600 hover:text-teal-500 hover:underline",children:"← Retour à la connexion"})})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),i()},className:"inline-block","aria-label":"CADORAMA Homepage",children:e.jsx("svg",{width:"190",height:"40",viewBox:"0 0 190 40",xmlns:"http://www.w3.org/2000/svg",children:e.jsxs("g",{children:[e.jsxs("g",{transform:"translate(0, 4)",children:[e.jsx("rect",{width:"32",height:"32",rx:"8",fill:"#0d9488"}),e.jsx("path",{d:"M26 12V21H6V12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M28 8H4V12H28V8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M16 21V8",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M16 8H11.5C10.837 8 10.2011 7.73661 9.73223 7.26777C9.26339 6.79893 9 6.16304 9 5.5C9 4.83696 9.26339 4.20107 9.73223 3.73223C10.2011 3.26339 10.837 3 11.5 3C13.5 3 16 8 16 8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M16 8H20.5C21.163 8 21.7989 7.73661 22.2678 7.26777C22.7366 6.79893 23 6.16304 23 5.5C23 4.83696 22.7366 4.20107 22.2678 3.73223C21.7989 3.26339 21.163 3 20.5 3C18.5 3 16 8 16 8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("text",{x:"45",y:"28",fontFamily:"Poppins, sans-serif",fontSize:"24",fontWeight:"bold",fill:"#111827",children:"CADORAMA"})]})})})}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Mot de passe oublié ?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Pas de soucis. Entrez votre email et nous vous enverrons un lien de réinitialisation."}),o&&e.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm",children:o}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse e-mail"}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:t=>c(t.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"w-full h-11 flex justify-center items-center py-3 px-4 border border-transparent rounded-full shadow-sm text-sm font-bold text-white bg-teal-600 hover:bg-teal-700 disabled:bg-gray-400",children:n?e.jsx(p,{}):"Envoyer le lien"})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous vous souvenez de votre mot de passe ?"," ",e.jsx("button",{onClick:i,className:"font-medium text-teal-600 hover:text-teal-500 hover:underline",children:"Se connecter"})]})})]})})};export{b as default};
