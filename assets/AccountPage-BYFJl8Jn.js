import{u as g,j as e,L as h}from"./index-ByxEemcU.js";import{r as t}from"./vendor-CIP6LD3P.js";const j=({onBack:u})=>{const{currentUser:s,updateUser:x}=g(),[r,d]=t.useState((s==null?void 0:s.name)||""),[m,a]=t.useState(!1),[i,l]=t.useState(null),[c,n]=t.useState(null);t.useEffect(()=>{d((s==null?void 0:s.name)||"")},[s]);const p=async o=>{if(o.preventDefault(),l(null),n(null),a(!0),r.trim()===""){l("Le nom ne peut pas être vide."),a(!1);return}try{await x({name:r}),n("Profil mis à jour avec succès !")}catch(b){l(b.message||"Une erreur est survenue.")}finally{a(!1),setTimeout(()=>n(null),3e3)}};return s?e.jsx("div",{className:"bg-gray-50 min-h-screen animate-fade-in",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-8 pb-4 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Mon Compte"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez les informations de votre profil."})]}),e.jsx("button",{onClick:u,className:"mt-4 sm:mt-0 text-sm bg-white text-gray-700 font-semibold py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors self-start sm:self-center",children:"← Retour à la boutique"})]}),e.jsx("div",{className:"max-w-xl mx-auto bg-white p-8 rounded-lg shadow-md border border-gray-200",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i&&e.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm",children:i}),c&&e.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md text-sm",children:c}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),e.jsx("input",{id:"name",type:"text",value:r,onChange:o=>d(o.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse e-mail"}),e.jsx("input",{id:"email",type:"email",value:s.email,disabled:!0,className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:m,className:"w-full h-11 flex justify-center items-center py-3 px-4 border border-transparent rounded-full shadow-sm text-sm font-bold text-white bg-teal-600 hover:bg-teal-700 disabled:bg-gray-400",children:m?e.jsx(h,{}):"Sauvegarder les modifications"})})]})})]})}):e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{children:"Veuillez vous connecter pour voir cette page."})})};export{j as default};
